# Session Continuity Runbook

Operational runbook to continue work across sessions without re-reading the whole codebase.

## Commands (just)

### Start session

```bash
just resume
```

### Save session checkpoint

```bash
just checkpoint \
  "Implementar mejora en webhook" \
  "Guardrail CI activado" \
  "Agregar test de integración|Validar en staging" \
  "Pendiente token de proveedor" \
  "app/api/whatsapp/webhook/route.ts,src/modules/ai/application/processing.ts" \
  "npm run typecheck,npm run test:unit"
```

### Regenerate master tracker

```bash
just sync-master
```

### Validate continuity contract

```bash
just check-tracking
```

### Recommended close flow

```bash
just close-session \
  "..." \
  "..." \
  "step1|step2" \
  "..." \
  "file1,file2" \
  "cmd1,cmd2"
```

## Source-of-truth artifacts

- `.claude/handoff.md`
- `docs/master-tracker.md` (autogenerated)
- `specs/*.md` (must include Semáforo/Fase/Next Step/Updated)

## Pre-commit enforcement

The hook enforces:

1. `just sync-master`
2. `just check-tracking`

Commit is blocked if:

- `.claude/handoff.md` does not exist
- `docs/master-tracker.md` is out of sync
- specs contract is incomplete
- critical paths changed without continuity updates
